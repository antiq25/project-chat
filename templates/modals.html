
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#mainModal">
  Open Main Modal
</button>


<div class="modal fade bg-gradient" id="userModal" aria-hidden="true" aria-labelledby="userModalLabel" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userModalLabel">User Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img id="userModalImage" src="" alt="User Profile Image" width="100" class="img-fluid">
          <h6 id="userModalName"></h6>
       
        <div class="modal-footer">
         
        <a class="btn btn-outline-inverse" href="{{ url_for('profile', user_id=user.id) }}">View Profile</a>
        <a class="btn grad4 btn-outline-black" href="{{ url_for('private_chat', receiver_id=user.id) }}">Private Chat</a>
       

      </div>     

        </div>
      </div>
    </div>
  </div>
  <!--  -->
  <div class="modal fade modal-sm" id="userModal" aria-hidden="true" aria-labelledby="userModalLabel" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userModalLabel">User Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img id="userModalImage" src="" alt="User Profile Image" width="100" class="img-fluid">
          <h6 id="userModalName"></h6>
          <div class="modal-footer">
            <a class="btn btn-outline-inverse" href="{{ url_for('profile', user_id=user.id) }}">View Profile</a>
            <a class="btn grad4 btn-outline-black" href="{{ url_for('private_chat', receiver_id=user.id) }}">Private Chat</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="mainModal" tabindex="-1" aria-labelledby="mainModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm ali">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="mainModalLabel">Document</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="card">
            <div class="card-body">
              <div class="col">
                </div>
                <div class="col">
                    <div class="card">
                        
                    <div class="card-header bg-none fw-bold d-flex align-items-center">
                      <h3>Private Messages with {{ receiver.username }}:</h3>
                  
                    </div>
                  </div>
                  <ul>
                    {% for sender in senders %}
                      {% if loop.index <= 10 %} 
                        <li><a href="{{ url_for('private_chat', receiver_id=sender.id) }}">{{ sender.username }}</a></li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                  <h2>All Received Messages:</h2>
                  <ul>
                    {% for message in received_messages %}
                      {% if loop.index <= 10 %} 
                        <li><strong>{{ message.sender.username }}:</strong> {{ message.content }} <small>{{ message.timestamp }}</small></li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                    <div class="card">
                    <div class="card-header bg-none fw-bold d-flex align-items-center">
                      <h3>Online Users:</h3>
                    </div>
                    <div class="col">
                    <div class="card-body">
                      <div class="messenger-list" id="update_user_list">
                        {% for user in users_online %}
                          <a href="{{ url_for('private_chat', receiver_id=user.id) }}" data-toggle="messenger-content">
                            <div class="messenger-media">
                              <img src="{{ url_for('static', filename=(user.profile_pic if user.profile_pic else 'uploads/default_image.webp')) }}" alt="{{ (user.display_name if user.display_name else 'Default User') }}" width="10" class="card-img">
                            </div>
                            <div class="messenger-info">
                              <div class="messenger-name">{{ user.display_name or user.username }}</div>
                              <div class="dropdown">
                                <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown">Options</a>
                                <div class="dropdown-menu">
                                  <a class="dropdown-item" href="/profile/{{ user.id }}">View Profile</a>
                                  <a href="{{ url_for('private_chat', receiver_id=user.id) }}">Chat with {{ user.username or user.display_name }}</a>
                                </div>
                              </div>
                            </div>
                          </a>
                        {% endfor %}
                      </div>
                    </div>
                  </div>
                    </div>
                  <style>
                    .modal-backdrop {
                      z-index: 0;
                    }
                  </style>
                </div>
                <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <!-- Profile content will be populated here -->
                    </div>
                  </div>
                </div>
                
                <!-- Chat Sidebar -->
                <div id="chatSidebar" class="chat-sidebar">
                  <!-- Chat content will be populated here -->
                </div>
                